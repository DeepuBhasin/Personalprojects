"use strict";(self["webpackChunkvue_codeigniter"]=self["webpackChunkvue_codeigniter"]||[]).push([[107],{6107:function(t,e,l){l.r(e),l.d(e,{default:function(){return at}});var n=l(3396),a=l(7139),o=l(9242);const m=(0,n._)("h2",null,"News Feed",-1),s={class:"form-group bg-info p-3"},i=(0,n._)("br",null,null,-1),r=(0,n._)("label",{for:"reate_post"},"Create Post",-1),c=(0,n._)("br",null,null,-1),u=(0,n._)("h2",{class:"text-center"},"OR",-1),_=(0,n._)("br",null,null,-1),d=(0,n._)("br",null,null,-1),p=(0,n._)("button",{type:"submit",class:"btn btn-success btn-block"},"Upload",-1),g=(0,n._)("button",{type:"reset",class:"btn btn-danger btn-block"},"Clear",-1),b=(0,n._)("br",null,null,-1),h={key:1},k={key:0},f={class:"alert alert-warning"},w=(0,n._)("br",null,null,-1),y=(0,n._)("br",null,null,-1),C={class:"p-3",style:{"background-color":"#fff"}},v=["onClick"],D={key:0},A={key:1},I=(0,n._)("br",null,null,-1),P=(0,n._)("br",null,null,-1),U={class:"form-group"},z=(0,n._)("label",{for:""},"comment",-1),S=["id","onInput"],j=(0,n._)("br",null,null,-1),M={class:"form-group"},N=["onClick"],$=(0,n._)("br",null,null,-1),x={key:1},H={class:"alert alert-warning"},L=(0,n._)("br",null,null,-1),Y=(0,n._)("br",null,null,-1),E={class:"p-3",style:{"background-color":"#fff"}},K=["src"],W=["onClick"],q={key:0},F={key:1},B=(0,n._)("br",null,null,-1),O=(0,n._)("br",null,null,-1),R={class:"form-group"},T=(0,n._)("label",{for:""},"comment",-1),V=["id","onInput"],Z=(0,n._)("br",null,null,-1),G={class:"form-group"},J=["onClick"],Q=(0,n._)("br",null,null,-1);function X(t,e,l,X,tt,et){const lt=(0,n.up)("alert-message"),nt=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[m,(0,n._)("h4",null,(0,a.zw)(tt.firstName)+" "+(0,a.zw)(tt.lastName),1),tt.alertStatus?((0,n.wg)(),(0,n.j4)(lt,{key:0,color:tt.color,message:tt.message},null,8,["color","message"])):(0,n.kq)("",!0),(0,n._)("form",{onSubmit:e[2]||(e[2]=(0,o.iM)(((...t)=>et.submitPost&&et.submitPost(...t)),["prevent"]))},[(0,n._)("div",s,[i,r,(0,n.wy)((0,n._)("textarea",{name:"posttext",id:"post",cols:"20",rows:"5",placeholder:"What's in your in mind..... ",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>tt.comment=t)},null,512),[[o.nr,tt.comment]]),c,u,_,(0,n._)("input",{type:"file",ref:"fileupload",name:"postImage",id:"postImage",class:"form-control",onChange:e[1]||(e[1]=t=>et.uploadImage(t)),accept:"image/*"},null,544),d,p,(0,n.Uk)(" Â  "),g])],32),b,tt.commentArray.length?((0,n.wg)(),(0,n.iD)("div",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(tt.commentArray,(l=>((0,n.wg)(),(0,n.iD)(n.HY,{key:l.id},[l.comment?((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("div",f,[(0,n.Wm)(nt,{to:{name:"viewuser",params:{id:l.user_id}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(l.first_name)+" "+(0,a.zw)(l.last_name),1)])),_:2},1032,["to"]),(0,n.Uk)(),w,(0,n.Uk)(),y,(0,n._)("p",C,(0,a.zw)(l.comment),1),(0,n._)("button",{class:"btn btn-info btn-sm",onClick:(0,o.iM)((t=>et.likeCommentPost(l.id)),["prevent"])},[tt.likeUnlikeArray.filter((t=>t==l.id)).length?((0,n.wg)(),(0,n.iD)("span",D," Unlike ")):((0,n.wg)(),(0,n.iD)("span",A,"Like"))],8,v),I,P,(0,n._)("form",{onSubmit:e[3]||(e[3]=(0,o.iM)((e=>t.postComment()),["prevent"]))},[(0,n._)("div",U,[z,(0,n._)("input",{type:"text",class:"form-control",id:`comment_${l.id}`,placeholder:"Enter Comment",onInput:t=>et.postCommentCommentInput(t,l.id),value:""},null,40,S),j]),(0,n._)("div",M,[(0,n._)("button",{class:"btn btn-success btn-sm",onClick:(0,o.iM)((t=>et.comment_comment(l.id)),["prevent"])},"Submit",8,N)]),$,(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(et.comemntComputed(l.id),(t=>((0,n.wg)(),(0,n.iD)("p",{key:t.id},(0,a.zw)(t.first_name)+" "+(0,a.zw)(t.last_name)+" : "+(0,a.zw)(t.comment),1)))),128))])],32)])])):((0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("div",H,[(0,n.Wm)(nt,{to:{name:"viewuser",params:{id:l.user_id}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(l.first_name)+" "+(0,a.zw)(l.last_name),1)])),_:2},1032,["to"]),(0,n.Uk)(),L,(0,n.Uk)(),Y,(0,n._)("p",E,[(0,n._)("img",{src:et.getImagePath()+l.image,alt:"",width:"500",class:"img-thumbnail"},null,8,K)]),(0,n._)("button",{class:"btn btn-info btn-sm",onClick:(0,o.iM)((t=>et.likeCommentPost(l.id)),["prevent"])},[tt.likeUnlikeArray.filter((t=>t==l.id)).length?((0,n.wg)(),(0,n.iD)("span",q," Unlike ")):((0,n.wg)(),(0,n.iD)("span",F,"Like"))],8,W),B,O,(0,n._)("form",{onSubmit:e[4]||(e[4]=(0,o.iM)((e=>t.postComment()),["prevent"]))},[(0,n._)("div",R,[T,(0,n._)("input",{type:"text",class:"form-control",id:`comment_${l.id}`,placeholder:"Enter Comment",onInput:t=>et.postCommentCommentInput(t,l.id),value:""},null,40,V),Z]),(0,n._)("div",G,[(0,n._)("button",{class:"btn btn-success btn-sm",onClick:(0,o.iM)((t=>et.comment_comment(l.id)),["prevent"])},"Submit",8,J)]),Q,(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(et.comemntComputed(l.id),(t=>((0,n.wg)(),(0,n.iD)("p",{key:t.id},(0,a.zw)(t.first_name)+" "+(0,a.zw)(t.last_name)+" : "+(0,a.zw)(t.comment),1)))),128))])],32)])]))],64)))),128))])):(0,n.kq)("",!0)],64)}var tt=l(4483),et={name:"DashboardComponent",computed:{},data(){return{firstName:"",lastName:"",id:"",alertStatus:!1,color:"",message:"",loading:!1,comment:"",commentArray:[],likeUnlikeArray:[],imageStatus:null,postImage:"",imagePath:"",comment_comment_object:{},commentCommentArray:[]}},methods:{getImagePath(){return tt.kD},comemntComputed(t){return this.commentCommentArray.filter((e=>e.post_table_id==t))},postCommentCommentInput(t,e){this.comment_comment_object={comment_comment:t.target.value,post_id_comment:e,created_by_comment:this.id}},async comment_comment(t){t===this.comment_comment_object.post_id_comment&&(await(0,tt.j0)("post_comment_comment",this.comment_comment_object),this.getAllPostData(),this.comment_comment_object={},document.getElementById(`comment_${t}`).value="")},async myProfileDetails(){this.id=(0,tt.yb)();let t=await(0,tt.A_)(`my_profile/${this.id}`),e=t.data;this.loading=!0,this.firstName=e.first_name,this.lastName=e.last_name},uploadImage(t){this.postImage=t.target.files[0],this.imageStatus=!0},async submitPost(){if(1==this.imageStatus){let t=new FormData;t.append("postImage",this.postImage,this.postImage.name),t.append("created_by",this.id);let e=await(0,tt.dz)("create_post",t);!1===e.data.error&&(this.message=e.data.data,this.color="success",this.alertStatus=!0,this.$refs.fileupload.value=null,this.getAllPostData(),this.imageStatus=!1,this.impostImage="")}else{let t={comment:this.comment,created_by:this.id},e=await(0,tt.j0)("create_post",t);!1===e.data.error&&(this.message=e.data.data,this.color="success",this.alertStatus=!0,this.comment="",this.getAllPostData())}setTimeout((()=>{this.alertStatus=!1}),3e3)},async getAllPostData(){let t=await(0,tt.A_)(`get_all_post_data/${this.id}`);this.commentArray=t.data.allPosts,this.likeUnlikeArray=t.data.allLikeUnlike,t.data.allLikeUnlike.length&&(this.likeUnlikeArray=t.data.allLikeUnlike.map((t=>t.post_table_id))),t.data.allComment.length&&(this.commentCommentArray=t.data.allComment)},async likeCommentPost(t){let e={post_id:t,user_id:this.id};await(0,tt.j0)("like_comment_post",e),this.getAllPostData()}},async mounted(){await this.myProfileDetails(),await this.getAllPostData()}},lt=l(89);const nt=(0,lt.Z)(et,[["render",X]]);var at=nt}}]);
//# sourceMappingURL=107.c8682102.js.map